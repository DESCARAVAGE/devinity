{% extends 'base.html.twig' %}

{% block title %}Hello ProjectController!
{% endblock %}

{% block body %}
	<main class="project-detail mt-5">
		<section class="my-3 d-flex justify-content-center">
			<div class="title rounded-pill my-2 float-start mt-5">
				<h2 class="text-white text-center px-3 my-2">
					{{ project.name }}
				</h2>
			</div>
		</section>
		<div class="d-flex justify-content-end me-5 text-dark">
			<a href="/" class="btn bg-info tableView rounded-pill my-2 text-dark ms-2 ">Change status</a>
			<a href="/" class="btn bg-success tableJoin rounded-pill my-2 text-dark ms-2">Return to the idea</a>
			<a href="/" class="btn bg-danger tableDanger rounded-pill my-2 text-dark ms-2">Cancel Project</a>
		</div>
		<div class="row gap-5 mx-4">
			<div class="card glass col-lg-4">
				<div class="card-body d-flex flex-column justify-content">
					<h2 class="card-title text-white border-bottom">Participants</h2>
					<table>
						{% for participant in project.participants %}
							<tr>
								<td>{{ participant.name }}</td>
							</tr>
						{% else %}
							<tr>
								<td colspan="6">Aucun résultat</td>
							</tr>
						{% endfor %}
					</table>
				</div>
			</div>
		</div>

		<a href="{{ path('app_report_new', {'id': project.id}) }}" class="btn bg-success tableJoin rounded-pill text-dark ms-5 my-3 ">Add a report</a>
		<div class="row gap-5 mx-4">
			<div class="card glass col-lg-8">
				<div class="card-body d-flex flex-column justify-content">

					<h2 class="card-title text-white border-bottom">Reports
					</h2>
					<table>
						{% for report in project.reports %}
							<tr>
								<td>{{ report.name }}</td>
								<td>{{ report.description }}</td>
								<td>{{ report.date ? report.date|date('d-m-Y') : '' }}</td>
							</tr>
						{% else %}
							<tr>
								<td colspan="6">Aucun résultat</td>
							</tr>
						{% endfor %}
					</table>
				</div>
			</div>
		</div>
	</main>
{% endblock %}
